(self.webpackChunkfishing_study_app=self.webpackChunkfishing_study_app||[]).push([[50],{50:(t,e,a)=>{"use strict";a.r(e),a.d(e,{HomePageModule:()=>et});var i=a(1116),n=a(1041),r=a(3402),o=a(4784),s=a(5180),u=a(3337),c=a(5366),l=a(5842);let d=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.roles=["admin"],this.usuario=this.authService.user}canActivate(){return this.roles.includes(this.usuario.role)||this.router.navigateByUrl("/home-page/opening"),!0}canLoad(){return this.roles.includes(this.usuario.role)||this.router.navigateByUrl("/home-page/opening"),!0}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(l.e),c.LFG(u.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=a(1990),g=a(6052),p=a(168),h=a(7112),Z=a(4369),f=a(7307),b=a(6489),U=a(667),A=a(400);const T=["snav"];function q(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-list-option",35),c.NdJ("click",function(){return c.CHM(t),c.oxw().action("setting")}),c._uU(1," Gesti\xf3n de usuarios "),c.qZA()}}let _=(()=>{class t{constructor(t,e,a,i){this.authService=t,this.userService=e,this.router=a,this.fileUploadService=i,this.panelOpenState=!1,this.optionSetting=[{name:"Editar Cuenta",url:"edit-profile"},{name:"Gesti\xf3n de usuarios",url:"setting",role:["admin"]}]}ngOnInit(){this.usuario=this.authService.user,this.imageUrl={url:this.authService.getImageUrl()},this.fileUploadService.addRefImageProfile(this.imageUrl)}navegate(t){this.router.navigateByUrl(`home-page/${t}`)}isAllowed(t){var e;let a=null===(e=this.optionSetting.find(e=>e.name===t))||void 0===e?void 0:e.role;return!a||a.includes(this.usuario.role)}logout(){this.authService.logOut()}action(t){t===this.optionSetting[0].url?this.router.navigateByUrl(`/home-page/edit-profile/${this.usuario.uid}/edit-profile/${this.usuario.uid}`):t===this.optionSetting[1].url&&this.navegate("setting")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.e),c.Y36(m.K),c.Y36(u.F0),c.Y36(g.J))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(t,e){if(1&t&&c.Gf(T,5),2&t){let t;c.iGM(t=c.CRH())&&(e.snav=t.first)}},decls:100,vars:9,consts:[["fullscreen","",1,"animate__animated","animate__fadeIn","animate__faster"],["mode","push",2,"width","250px"],["snav",""],["color","primary",2,"height","56px"],["href",""],["src","../../../assets/toolbar/pescado.png","alt","",1,"me-3",2,"width","50px"],[1,"example-spacer"],["mat-icon-button","",3,"click"],[1,"mx-2"],[1,"mx-2","p-2",2,"background-color","rgba(236, 240, 241, 0.55)","border-radius","5px"],["mat-button","",1,"my-2",2,"width","100%","height","48px","text-align","left",3,"click"],["src","../../../assets/sidebar/homepage.png","alt","",1,"img"],["mat-button","",1,"mb-2",2,"width","100%","height","48px","text-align","left",3,"click"],["src","../../../assets/sidebar/dom.png","alt","",1,"img"],["src","../../../assets/sidebar/calendario.png","alt","",1,"img"],["src","../../../assets/sidebar/agricultura.png","alt","",1,"img"],[1,"mb-2"],["src","../../../assets/sidebar/mapa.png","alt","",1,"img"],[2,"display","flex"],["mat-button","",1,"w-100","mb-2",3,"click"],[2,"display","flex","justify-content","space-between","align-items","center","text-align","center"],[2,"margin","0"],["src","../../../assets/map/globe.png","alt","world",1,"img","float-end",2,"margin","0"],["mat-button","",1,"w-100",3,"click"],["src","../../../assets/map/location.png","alt","mk",1,"img","float-end",2,"margin","0"],[1,"mb-2",3,"click"],["src","../../../assets/sidebar/estadistica.png","alt","",1,"img"],["src","../../../assets/sidebar/encuesta.png","alt","",1,"img"],[3,"multiple"],[2,"position","sticky","bottom","0","background-color","#ecf0f1"],["mat-mini-fab","","color","primary",1,"",2,"width","50px","border-radius","50%","padding","4px","margin-right","5px",3,"src"],[2,"font-size","1rem"],["mat-flat-button","",2,"color","rgba(0,0,0,.75)","background-color","rgba(0,0,0,0)",3,"matMenuTriggerFor"],["sideAjustes","matMenu"],[3,"click",4,"ngIf"],[3,"click"],["color","primary",1,"toolsticky"],["mat-mini-fab","","color","primary",2,"width","50px","border-radius","50%","padding","4px","margin-right","5px",3,"src"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[2,"color","rgba(0,0,0,.54)"],[1,"fas","fa-user-edit","fa-lg","me-3"],[1,"fas","fa-door-open","fa-lg","me-3"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-sidenav-container",0),c.TgZ(1,"mat-sidenav",1,2),c.TgZ(3,"ng-scrollbar"),c.TgZ(4,"mat-toolbar",3),c.TgZ(5,"a",4),c._UZ(6,"img",5),c.qZA(),c.TgZ(7,"span"),c._uU(8,"SerFish"),c.qZA(),c._UZ(9,"span",6),c.TgZ(10,"button",7),c.NdJ("click",function(){return c.CHM(t),c.MAs(2).toggle()}),c.TgZ(11,"mat-icon"),c._uU(12,"menu"),c.qZA(),c.qZA(),c.qZA(),c._UZ(13,"hr",8),c.TgZ(14,"div",9),c.TgZ(15,"button",10),c.NdJ("click",function(){return e.navegate("opening")}),c._UZ(16,"img",11),c._uU(17,"Inicio"),c.qZA(),c.TgZ(18,"button",12),c.NdJ("click",function(){return e.navegate("climate")}),c._UZ(19,"img",13),c._uU(20,"Clima"),c.qZA(),c.TgZ(21,"button",12),c.NdJ("click",function(){return e.navegate("calendar")}),c._UZ(22,"img",14),c._uU(23,"Calendario"),c.qZA(),c.TgZ(24,"button",12),c.NdJ("click",function(){return e.navegate("document")}),c._UZ(25,"img",15),c._uU(26,"Documentos"),c.qZA(),c.TgZ(27,"mat-accordion"),c.TgZ(28,"mat-expansion-panel",16),c.TgZ(29,"mat-expansion-panel-header"),c.TgZ(30,"mat-panel-title"),c._UZ(31,"img",17),c._uU(32," Zonas "),c.qZA(),c.qZA(),c.TgZ(33,"div",18),c.TgZ(34,"button",19),c.NdJ("click",function(){return e.navegate("map/map-view")}),c.TgZ(35,"div",20),c.TgZ(36,"p",21),c._uU(37,"Explorar"),c.qZA(),c._UZ(38,"img",22),c.qZA(),c.qZA(),c.qZA(),c.TgZ(39,"div",18),c.TgZ(40,"button",23),c.NdJ("click",function(){return e.navegate("map/card-view")}),c.TgZ(41,"div",20),c.TgZ(42,"p",21),c._uU(43,"Tarjetas"),c.qZA(),c._UZ(44,"img",24),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"mat-expansion-panel",25),c.NdJ("click",function(){return e.navegate("chart")}),c.TgZ(46,"mat-expansion-panel-header"),c.TgZ(47,"mat-panel-title"),c._UZ(48,"img",26),c._uU(49," Estad\xedstica "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(50,"mat-expansion-panel",25),c.NdJ("click",function(){return e.navegate("survey")}),c.TgZ(51,"mat-expansion-panel-header"),c.TgZ(52,"mat-panel-title"),c._UZ(53,"img",27),c._uU(54," Encuestas "),c.qZA(),c.qZA(),c.TgZ(55,"mat-selection-list",28),c._UZ(56,"mat-list-option"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(57,"mat-toolbar",29),c._UZ(58,"img",30),c.TgZ(59,"span",31),c._uU(60),c.qZA(),c._UZ(61,"span",6),c.TgZ(62,"button",32),c.TgZ(63,"mat-icon"),c._uU(64,"settings"),c.qZA(),c.qZA(),c.TgZ(65,"mat-menu",null,33),c.TgZ(67,"mat-selection-list",28),c.YNc(68,q,2,0,"mat-list-option",34),c.TgZ(69,"mat-list-option",35),c.NdJ("click",function(){return e.action("edit-profile")}),c._uU(70," Editar Cuenta "),c.qZA(),c.TgZ(71,"mat-list-option",35),c.NdJ("click",function(){return e.logout()}),c._uU(72," Cerrar Sesi\xf3n "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(73,"mat-sidenav-content"),c.TgZ(74,"ng-scrollbar"),c.TgZ(75,"mat-toolbar",36),c.TgZ(76,"button",7),c.NdJ("click",function(){return c.CHM(t),c.MAs(2).toggle()}),c.TgZ(77,"mat-icon"),c._uU(78,"menu"),c.qZA(),c.qZA(),c.TgZ(79,"h1"),c._uU(80,"Menu"),c.qZA(),c._UZ(81,"span",6),c._UZ(82,"img",37),c.TgZ(83,"span"),c._uU(84),c.qZA(),c.TgZ(85,"button",38),c.TgZ(86,"mat-icon"),c._uU(87,"keyboard_arrow_down"),c.qZA(),c.qZA(),c.TgZ(88,"mat-menu",null,39),c.TgZ(90,"button",40),c.NdJ("click",function(){return e.action("edit-profile")}),c.TgZ(91,"span",41),c._UZ(92,"i",42),c._uU(93,"Editar"),c.qZA(),c.qZA(),c.TgZ(94,"button",40),c.NdJ("click",function(){return e.logout()}),c.TgZ(95,"span",41),c._UZ(96,"i",43),c._uU(97,"Cerrar"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(98,"div"),c._UZ(99,"router-outlet"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.MAs(66),a=c.MAs(89);c.xp6(55),c.Q6J("multiple",!1),c.xp6(3),c.Q6J("src",e.imageUrl.url,c.LSH),c.xp6(2),c.hij(" ",e.usuario.name," "),c.xp6(2),c.Q6J("matMenuTriggerFor",t),c.xp6(5),c.Q6J("multiple",!1),c.xp6(1),c.Q6J("ngIf","admin"==e.usuario.role),c.xp6(14),c.Q6J("src",e.imageUrl.url,c.LSH),c.xp6(2),c.Oqu(e.usuario.name),c.xp6(1),c.Q6J("matMenuTriggerFor",a)}},directives:[p.TM,p.JX,r.KC,h.Ye,Z.lW,f.Hw,b.pp,b.ib,b.yz,b.yK,U.Ub,U.vS,A.p6,A.VK,i.O5,p.Rh,A.OP,u.lC],styles:[".img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:15px}.toolsticky[_ngcontent-%COMP%]{position:sticky;height:56px;top:0;z-index:3}ng-scrollbar[_ngcontent-%COMP%]{--scrollbar-thumb-color:#032f7a66;--scrollbar-thumb-hover-color:#032f7a99}"]}),t})(),v=(()=>{class t{constructor(t){this.authService=t,this.imageUrl=""}ngOnInit(){this.usuario=this.authService.user,this.imageUrl=this.authService.getImageUrl()}logout(){this.authService.logOut()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.e))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-opening"]],decls:15,vars:4,consts:[[1,"mx-3","mt-2","animate__animated","animate__fadeIn","animate__faster"],["alt","UserAvatar",3,"src"],[2,"border","teal 2px solid","padding","5px",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h1"),c._uU(2,"Dashboard"),c.qZA(),c._UZ(3,"hr"),c.TgZ(4,"p"),c._uU(5,"Esta pagina solo funciona si esta autenticado"),c.qZA(),c.TgZ(6,"h4"),c._uU(7,"User info"),c.qZA(),c._UZ(8,"img",1),c._UZ(9,"br"),c.TgZ(10,"pre"),c._uU(11),c.ALo(12,"json"),c.qZA(),c.TgZ(13,"button",2),c.NdJ("click",function(){return e.logout()}),c._uU(14," LogOut "),c.qZA(),c.qZA()),2&t&&(c.xp6(8),c.Q6J("src",e.imageUrl,c.LSH),c.xp6(3),c.hij(" ",c.lcZ(12,2,e.usuario)," "))},pipes:[i.Ts],styles:["img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;margin:1rem}"]}),t})();var x=a(4762),k=a(9199),w=a(2501),S=a.n(w),y=a(7173),C=a(6304),J=a(9241),N=a(6559),M=a(5522);function D(t,e){1&t&&(c.TgZ(0,"th",12),c._uU(1," No. "),c.qZA())}function I(t,e){if(1&t&&(c.TgZ(0,"td",13),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.index," ")}}function O(t,e){1&t&&(c.TgZ(0,"th",12),c._uU(1," Name "),c.qZA())}function E(t,e){if(1&t&&(c.TgZ(0,"td",13),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.name," ")}}function Y(t,e){1&t&&(c.TgZ(0,"th",12),c._uU(1," Email "),c.qZA())}function P(t,e){if(1&t&&(c.TgZ(0,"td",13),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.email," ")}}function F(t,e){1&t&&(c.TgZ(0,"th",12),c._uU(1," Role "),c.qZA())}function Q(t,e){if(1&t&&(c.TgZ(0,"td",13),c.TgZ(1,"mat-chip-list",14),c.TgZ(2,"mat-chip",15),c._uU(3),c.qZA(),c.qZA(),c.qZA()),2&t){const t=e.$implicit,a=c.oxw();c.xp6(2),c.Q6J("color",a.colorRole(t.role)),c.xp6(1),c.hij("",t.role," ")}}function $(t,e){1&t&&(c.TgZ(0,"th",12),c._uU(1," Acciones "),c.qZA())}function j(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"td",13),c.TgZ(1,"button",16),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw().editUser(e.uid)}),c.TgZ(2,"mat-icon"),c._uU(3,"edit"),c.qZA(),c.qZA(),c.TgZ(4,"button",16),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw().enableOrDisableUser(e.uid)}),c.TgZ(5,"mat-icon"),c._uU(6),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(6),c.Oqu(t.icon)}}function L(t,e){1&t&&c._UZ(0,"tr",17)}function H(t,e){1&t&&c._UZ(0,"tr",18)}const R=function(t){return[5,10,t]};let B=(()=>{class t{constructor(t,e){this.userService=t,this.router=e,this.onEnableOrDisableUser=new c.vpe,this.displayedColumns=["index","name","email","role","action"],this.dataSource=new k.by,this.lengthDataSource=0}ngOnInit(){var t=this;return(0,C.Z)(function*(){t.dataSource=t.data,yield t.getLengthData(t.data)})()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}colorRole(t){return"admin"==t?"accent":"biologo"==t?"primary":"basic"}getLengthData(t){return new Promise(e=>{setTimeout(()=>{this.lengthDataSource=t.data.length,e(!0)},500)})}editUser(t){this.router.navigateByUrl(`/home-page/edit-profile/${t}/edit-profile/${t}`)}enableOrDisableUser(t){console.log("Hijo manda usuario al padre"),this.onEnableOrDisableUser.emit(this.dataSource.data.find(e=>e.uid==t))}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(m.K),c.Y36(u.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-table"]],viewQuery:function(t,e){if(1&t&&(c.Gf(J.YE,5),c.Gf(N.NW,5)),2&t){let t;c.iGM(t=c.CRH())&&(e.sort=t.first),c.iGM(t=c.CRH())&&(e.paginator=t.first)}},inputs:{data:"data",icon:"icon"},outputs:{onEnableOrDisableUser:"onEnableOrDisableUser"},decls:20,vars:6,consts:[[1,"m-4"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-label","Fish selection"],["selected","true",3,"color"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"table",1),c.ynx(2,2),c.YNc(3,D,2,0,"th",3),c.YNc(4,I,2,1,"td",4),c.BQk(),c.ynx(5,5),c.YNc(6,O,2,0,"th",3),c.YNc(7,E,2,1,"td",4),c.BQk(),c.ynx(8,6),c.YNc(9,Y,2,0,"th",3),c.YNc(10,P,2,1,"td",4),c.BQk(),c.ynx(11,7),c.YNc(12,F,2,0,"th",3),c.YNc(13,Q,4,2,"td",4),c.BQk(),c.ynx(14,8),c.YNc(15,$,2,0,"th",3),c.YNc(16,j,7,1,"td",4),c.BQk(),c.YNc(17,L,1,0,"tr",9),c.YNc(18,H,1,0,"tr",10),c.qZA(),c._UZ(19,"mat-paginator",11),c.qZA()),2&t&&(c.xp6(1),c.Q6J("dataSource",e.dataSource),c.xp6(16),c.Q6J("matHeaderRowDef",e.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",e.displayedColumns),c.xp6(1),c.Q6J("pageSizeOptions",c.VKq(4,R,e.lengthDataSource)))},directives:[k.BZ,J.YE,k.w1,k.fO,k.Dz,k.as,k.nj,N.NW,k.ge,J.nU,k.ev,M.qn,M.HS,Z.lW,f.Hw,k.XQ,k.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}mat-chip[_ngcontent-%COMP%]{width:100px;justify-content:center}th[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5}tr[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),t})();var G=a(3070),W=a(9550),z=a(3841),K=a(7064);const X=[{path:"",component:_,children:[{path:"opening",component:v},{path:"setting",component:(()=>{class t{constructor(t,e,a){this.fb=t,this.authService=e,this.userServices=a,this.selected="",this.selectedIndex=0,this.hide=!0,this.miFormulario=this.fb.group({name:["",[n.kI.required],[]],email:["",[n.kI.required],[]],password:["",[n.kI.required],[]],role:["",[n.kI.required],[]]}),this.dataSource=new k.by,this.dataDisableSource=new k.by}ngOnInit(){this.userServices.getUsers().subscribe(()=>{this.dataSource.data=this.userServices.getEnableUsers,this.dataDisableSource.data=this.userServices.getDisableUsers})}register(){this.authService.register(this.miFormulario).subscribe(t=>{!0===t?S().fire({icon:"success",title:"El usuario se creo de forma exitosa",showConfirmButton:!1,timer:1500}):S().fire("Detectamos un error.",`${t}`,"error")})}updateTables(t){console.log("En el padre");const e=(0,x._T)(t,["index"]);e.state=!e.state,this.userServices.updateUser(e).subscribe(),this.userServices.updateArrayUsers=e,this.dataSource.data=this.userServices.getEnableUsers,this.dataDisableSource.data=this.userServices.getDisableUsers}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.qu),c.Y36(l.e),c.Y36(m.K))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-setting"]],decls:51,vars:8,consts:[[1,"mx-3","mt-2","animate__animated","animate__fadeIn","animate__faster"],[1,"mt-3"],["label","Usuarios"],[3,"data","icon","onEnableOrDisableUser"],["label","Agregar usuario"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"m-3"],[1,"row"],[1,"col","col-lg-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","name"],["matPrefix","",1,"me-2"],["matInput","","formControlName","email"],["matInput","","formControlName","password"],["formControlName","role",3,"value","valueChange"],["value","admin"],["value","encuestador"],["value","biologo"],[1,"float-end"],["mat-raised-button","","color","accent",3,"disabled"],["label","Desabilidatos usuario"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h1"),c._uU(2,"Gesti\xf3n de usuarios"),c.qZA(),c._UZ(3,"hr"),c.TgZ(4,"div",1),c.TgZ(5,"mat-tab-group"),c.TgZ(6,"mat-tab",2),c.TgZ(7,"app-table",3),c.NdJ("onEnableOrDisableUser",function(t){return e.updateTables(t)}),c.qZA(),c.qZA(),c.TgZ(8,"mat-tab",4),c.TgZ(9,"form",5),c.NdJ("ngSubmit",function(){return e.register()}),c.TgZ(10,"div",6),c.TgZ(11,"div",7),c.TgZ(12,"div",8),c.TgZ(13,"h3"),c._uU(14,"Complete el siguiente formulario"),c.qZA(),c._UZ(15,"hr"),c.TgZ(16,"mat-form-field",9),c.TgZ(17,"mat-label"),c._uU(18,"Nombre de usuario"),c.qZA(),c._UZ(19,"input",10),c.TgZ(20,"mat-icon",11),c._uU(21,"person"),c.qZA(),c.qZA(),c.TgZ(22,"mat-form-field",9),c.TgZ(23,"mat-label"),c._uU(24,"Email"),c.qZA(),c._UZ(25,"input",12),c.TgZ(26,"mat-icon",11),c._uU(27,"email"),c.qZA(),c.qZA(),c.TgZ(28,"mat-form-field",9),c.TgZ(29,"mat-label"),c._uU(30,"Contrase\xf1a"),c.qZA(),c._UZ(31,"input",13),c.TgZ(32,"mat-icon",11),c._uU(33,"lock"),c.qZA(),c.qZA(),c.TgZ(34,"mat-form-field",9),c.TgZ(35,"mat-label"),c._uU(36,"Seleccione el rol del usuario"),c.qZA(),c.TgZ(37,"mat-select",14),c.NdJ("valueChange",function(t){return e.selected=t}),c.TgZ(38,"mat-option",15),c._uU(39,"Admin"),c.qZA(),c.TgZ(40,"mat-option",16),c._uU(41,"Encuestador"),c.qZA(),c.TgZ(42,"mat-option",17),c._uU(43,"Cient\xedfico de campo"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(44,"div",18),c.TgZ(45,"button",19),c._uU(46," Registrar usuario "),c.qZA(),c.qZA(),c.TgZ(47,"p"),c._uU(48),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(49,"mat-tab",20),c.TgZ(50,"app-table",3),c.NdJ("onEnableOrDisableUser",function(t){return e.updateTables(t)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(7),c.Q6J("data",e.dataSource)("icon","delete_outline"),c.xp6(2),c.Q6J("formGroup",e.miFormulario),c.xp6(28),c.Q6J("value",e.selected),c.xp6(8),c.Q6J("disabled",e.miFormulario.invalid),c.xp6(3),c.Oqu(e.selected),c.xp6(2),c.Q6J("data",e.dataDisableSource)("icon","check"))},directives:[y.SP,y.uX,B,n._Y,n.JL,n.sg,G.KE,G.hX,W.Nt,n.Fj,n.JJ,n.u,f.Hw,G.qo,z.gD,K.ey,Z.lW],styles:[""]}),t})(),canActivate:[d],canLoad:[d]},{path:"edit-profile/:uid",loadChildren:()=>a.e(446).then(a.bind(a,1446)).then(t=>t.EditProfileModule)},{path:"calendar",loadChildren:()=>a.e(977).then(a.bind(a,3977)).then(t=>t.CalendarModule)},{path:"chart",loadChildren:()=>a.e(561).then(a.bind(a,8561)).then(t=>t.ChartModule)},{path:"climate",loadChildren:()=>a.e(319).then(a.bind(a,3319)).then(t=>t.ClimateModule)},{path:"document",loadChildren:()=>a.e(259).then(a.bind(a,7259)).then(t=>t.DocumentModule)},{path:"map",loadChildren:()=>a.e(360).then(a.bind(a,9360)).then(t=>t.MapModule)},{path:"survey",loadChildren:()=>a.e(254).then(a.bind(a,2254)).then(t=>t.SurveyModule)},{path:"",redirectTo:"opening",pathMatch:"full"}]},{path:"",redirectTo:"home-page",pathMatch:"full"}];let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[u.Bz.forChild(X)],u.Bz]}),t})();var tt=a(5425);let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,V,tt.m,o.q,n.UX,r.kb,s.W]]}),t})()},6052:(t,e,a)=>{"use strict";a.d(e,{J:()=>u});var i=a(6304),n=a(529),r=a(2693),o=a(5366);const s=n.N.baseUrl;let u=(()=>{class t{constructor(t){this.http=t,this.imageURLS=[]}updateImage(t,e,a){return(0,i.Z)(function*(){try{const i=new FormData;if(i.append("imagen",t),"usuarios"===e){const t=`${s}/upload/${e}/${a}`,n=yield fetch(t,{method:"PUT",headers:{"x-token":localStorage.getItem("token")||""},body:i}),r=yield n.json();return!!r.ok&&r.nombreArchivo}}catch(i){return!1}})()}loadFile(t,e){return(0,i.Z)(function*(){try{const a=new FormData;if(a.append("archivo",t),"documentos"===e){const t=`${s}/upload/${e}`,i=yield fetch(t,{method:"POST",headers:{"x-token":localStorage.getItem("token")||""},body:a}),n=yield i.json();return!!n.ok&&n.nombreArchivo}}catch(a){return!1}})()}addRefImageProfile(t){this.imageURLS.push(t)}setURLImageProfile(t){this.imageURLS.forEach(e=>{e.url=t})}getDocuments(){const t=`${s}/upload/getDocuments`,e=(new r.WM).append("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}deleteDocument(t){const e=`${s}/upload/documentos/${t._id}`,a=(new r.WM).append("x-token",localStorage.getItem("token")||"");return this.http.delete(e,{headers:a})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(r.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},1990:(t,e,a)=>{"use strict";a.d(e,{K:()=>l});var i=a(1267),n=a(2693),r=a(878),o=a(6599),s=a(9996),u=a(7727),c=a(5366);let l=(()=>{class t{constructor(t){this.http=t,this.idModUser="",this.count=1,this._baseUrl=i.N.baseUrl,this.users=[]}get getEnableUsers(){return this.count=1,this.users.filter(t=>{if(t.state)return t.index=this.count,this.count++,t})}get getDisableUsers(){return this.count=1,this.users.filter(t=>{if(!t.state)return t.index=this.count,this.count++,t})}set updateArrayUsers(t){const e=this.users.findIndex(e=>e.uid===t.uid);this.users[e].state=t.state}getUsers(t){const e=`${this._baseUrl}/usuarios`,a=(new n.WM).append("x-token",localStorage.getItem("token")||"").append("oneUser",t||"");return this.users=[],this.http.get(e,{headers:a}).pipe((0,o.b)(t=>{!0===t.ok&&(this.users=t.usuarios)}))}updateUser(t){const e=`${this._baseUrl}/usuarios/updateUser`,a=(new n.WM).append("x-token",localStorage.getItem("token")||"");return this.http.put(e,t,{headers:a}).pipe((0,s.U)(t=>t.ok),(0,u.K)(t=>{var e;return(0,r.of)((null===(e=t.error)||void 0===e?void 0:e.msg)||"Error en la petici\xf3n")}))}updatePassword(t){const e=`${this._baseUrl}/usuarios/updatePassword`,a=(new n.WM).append("x-token",localStorage.getItem("token")||"").append("uid",t.uid||"");return this.http.put(e,{oldPassword:t.oldPassword,newPassword:t.newPassword},{headers:a}).pipe((0,s.U)(t=>t.ok),(0,u.K)(t=>(0,r.of)(t.error.msg||"Error en la petici\xf3n")))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(n.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},1267:(t,e,a)=>{"use strict";a.d(e,{N:()=>i});const i={production:!0,baseUrl:"http://localhost:4000/api",mapboxToken:"pk.eyJ1IjoiamVhbmx1Yy1ib3F1aW4iLCJhIjoiY2tyb2h1M29uMGJhcjJ1cGcydmJ6eWkydyJ9.OBygfLwbOpdWJr8qbZF6tQ",openWeatherKey:"90b92f0c5ee2d6c71c554b178ff6e3f5"}},6304:(t,e,a)=>{"use strict";function i(t,e,a,i,n,r,o){try{var s=t[r](o),u=s.value}catch(c){return void a(c)}s.done?e(u):Promise.resolve(u).then(i,n)}function n(t){return function(){var e=this,a=arguments;return new Promise(function(n,r){var o=t.apply(e,a);function s(t){i(o,n,r,s,u,"next",t)}function u(t){i(o,n,r,s,u,"throw",t)}s(void 0)})}}a.d(e,{Z:()=>n})}}]);