(self.webpackChunkfishing_study_app=self.webpackChunkfishing_study_app||[]).push([[298],{1298:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AuthModule:()=>q});var r=o(1116),i=o(3337),a=o(1041),n=o(2501),s=o.n(n),c=o(5366),u=o(5842),l=o(5849),d=o(3070),m=o(9550),g=o(7307),p=o(4369);function f(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1,"M\xednimo ocho caracteres, al menos una letra may\xfascula, una min\xfascula y un n\xfamero."),c.qZA())}function Z(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1,"Las contrase\xf1as no concuerdan. "),c.qZA())}const h=[{path:"login",component:(()=>{class t{constructor(t,e,o){this.fb=t,this.authService=e,this.router=o,this.hide=!0,this.miFormulario=this.fb.group({email:[,[a.kI.required],[]],password:[,[a.kI.required],[]]})}ngOnInit(){this.miFormulario.reset({email:"biologo1@org1.com",password:"Contrase\xf1a.123"})}login(){const{email:t,password:e}=this.miFormulario.value;this.authService.login(t,e).subscribe(t=>{!0===t?this.router.navigateByUrl("/home-page"):s().fire({background:"rgba(250,250,250,0.96)",title:"Oops!!",text:`${t}`,icon:"error",confirmButtonColor:"#3085d6"})})}forgotPassword(){const{email:t}=this.miFormulario.value;if(this.validateEmail(t)&&""!=t)this.authService.forgotPassword(t).subscribe(e=>{!0===e?s().fire({background:"rgba(250,250,250,0.96)",title:"<p>Instrucciones enviadas</p>",html:`<p style="text-align:justify; margin: 0 20px;">Hemos enviado instrucciones para cambiar tu contrase\xf1a a ${t}. Revise la bandeja de entrada y la carpeta de spam.</p>`,icon:"info",confirmButtonColor:"#3085d6"}):s().fire({background:"rgba(250,250,250,0.96)",title:"Oops!!",text:"El correo electronico no esta registrado.",icon:"error",confirmButtonColor:"#3085d6"})});else{const e=""===t?"El email es un campo obligatorio.":"El correo electronico ingresado no es valido.";s().fire({background:"rgba(250,250,250,0.96)",title:"Oops!!",text:e,icon:"warning",confirmButtonColor:"#3085d6"})}}validateEmail(t){return t=t.trim(),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.qu),c.Y36(u.e),c.Y36(i.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login"]],decls:34,vars:3,consts:[["ngsReveal","",1,"login","d-flex","justify-content-center","align-items-center","animate__animated","animate__fadeIn","animate__faster"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form"],[1,"row","mb-2"],[1,"col","mt-4",2,"text-align","center"],["routerLink","/landing-page"],["src","../../../assets/toolbar/pescado.png","alt","",1,"",2,"width","50px"],[2,"font-size","22px"],[1,"row","mx-3"],[1,"col-12","mb-3"],["appearance","fill","color","accent",1,"w-100"],["matInput","","formControlName","email"],["matPrefix","",1,"me-2"],[1,"col-12","mb-2"],["type","password","matInput","","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",2,"opacity","0.5",3,"click"],[1,"col-12","text-center"],["type","submit","mat-raised-button","","color","accent",1,"boon"],[1,"col-12","mt-3","text-center"],[1,"forgot",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return e.login()}),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div"),c.TgZ(6,"a",5),c._UZ(7,"img",6),c.qZA(),c.qZA(),c.TgZ(8,"span",7),c._uU(9,"SerFish"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"div",8),c.TgZ(11,"div",9),c.TgZ(12,"mat-form-field",10),c.TgZ(13,"mat-label"),c._uU(14,"Email"),c.qZA(),c._UZ(15,"input",11),c.TgZ(16,"mat-icon",12),c._uU(17,"person"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",13),c.TgZ(19,"mat-form-field",10),c.TgZ(20,"mat-label"),c._uU(21,"Contrase\xf1a"),c.qZA(),c._UZ(22,"input",14),c.TgZ(23,"mat-icon",12),c._uU(24,"lock"),c.qZA(),c.TgZ(25,"button",15),c.NdJ("click",function(){return e.hide=!e.hide}),c.TgZ(26,"mat-icon"),c._uU(27),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(28,"div",16),c.TgZ(29,"button",17),c._uU(30," Ingresar "),c.qZA(),c.qZA(),c.TgZ(31,"div",18),c.TgZ(32,"span",19),c.NdJ("click",function(){return e.forgotPassword()}),c._uU(33,"\xbfOlvid\xf3 la contrase\xf1a?"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("formGroup",e.miFormulario),c.xp6(21),c.Q6J("type",e.hide?"password":"text"),c.xp6(5),c.Oqu(e.hide?"visibility_off":"visibility"))},directives:[l.hW,a._Y,a.JL,a.sg,i.yS,d.KE,d.hX,m.Nt,a.Fj,a.JJ,a.u,g.Hw,d.qo,p.lW,d.R9],styles:[".login[_ngcontent-%COMP%]{color:#fff!important;width:100%;height:100vh;background-image:url(flat-lay-fish-ice-cubes-with-copy-space.b007657f63497b86091a.jpg);background-repeat:no-repeat;background-position:50%;background-size:cover;overflow-y:hidden;overflow-x:hidden}mat-label[_ngcontent-%COMP%]{color:#fff}.forgot[_ngcontent-%COMP%], .forgot[_ngcontent-%COMP%]:hover{cursor:pointer}.forgot[_ngcontent-%COMP%]:hover{text-decoration:underline}.form[_ngcontent-%COMP%]{height:420px;width:320px;background-color:#4184b16b;border-radius:10px}"]}),t})()},{path:"reset-password/:token",component:(()=>{class t{constructor(t,e,o,r){this.fb=t,this.authService=e,this.route=o,this.router=r,this.hide=!0,this.hide2=!0,this.resetPass=this.fb.group({newPassword:["",[a.kI.required,a.kI.pattern(this.authService.passwordRegex)]],confirmPassword:["",[a.kI.required],[this.authService.samePassword]]})}ngOnInit(){}valid(t){var e,o;return(null===(e=this.resetPass.get(t))||void 0===e?void 0:e.hasError)&&(null===(o=this.resetPass.get(t))||void 0===o?void 0:o.touched)}reset(){this.resetPass.invalid||this.authService.resetPassword({newPassword:this.resetPass.value.newPassword,token:this.route.snapshot.params.token}).subscribe(t=>{!0===t?s().fire({icon:"success",title:"\xa1La clave fue cambiada con \xe9xito!",showConfirmButton:!0}).then(()=>{this.router.navigateByUrl("/auth/login")}):s().fire("Surgi\xf3 un error!",`${t}`,"error")})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.qu),c.Y36(u.e),c.Y36(i.gz),c.Y36(i.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-reset-password"]],decls:39,vars:8,consts:[[1,"reset","d-flex","justify-content-center","align-items-center"],["autocomplete","off",3,"formGroup","ngSubmit"],["id","form-container",1,"justify-content-center"],[1,"row"],[1,"col","mt-5","mb-2","mx-4"],["routerLink","/landing-page"],["src","../../../assets/toolbar/fish.png","alt","",1,"me-2",2,"width","50px"],[2,"font-size","22px"],[1,"col-12","mb-2","mx-0"],[2,"font-size","18px"],[1,"row","mx-3"],[1,"col-12"],["appearance","fill","color","primary",1,"w-100"],["type","password","matInput","","formControlName","newPassword",3,"type"],[4,"ngIf"],["matPrefix","",1,"me-2"],["type","button","mat-icon-button","","matSuffix","",2,"opacity","0.5",3,"click"],["type","password","matInput","","formControlName","confirmPassword",3,"type"],[1,"col-12","text-center"],["type","submit","mat-raised-button","","color","primary",1,"boton",3,"disabled"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return e.reset()}),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"a",5),c._UZ(6,"img",6),c.qZA(),c.TgZ(7,"span",7),c._uU(8,"SerFish"),c.qZA(),c.qZA(),c.TgZ(9,"div",8),c.TgZ(10,"span",9),c._uU(11,"Cambia tu contrase\xf1a"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",10),c.TgZ(13,"div",11),c.TgZ(14,"p"),c.TgZ(15,"mat-form-field",12),c.TgZ(16,"mat-label"),c._uU(17,"Nueva Contrase\xf1a"),c.qZA(),c._UZ(18,"input",13),c.YNc(19,f,2,0,"mat-error",14),c.TgZ(20,"mat-icon",15),c._uU(21,"lock"),c.qZA(),c.TgZ(22,"button",16),c.NdJ("click",function(){return e.hide=!e.hide}),c.TgZ(23,"mat-icon"),c._uU(24),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"p"),c.TgZ(26,"mat-form-field",12),c.TgZ(27,"mat-label"),c._uU(28,"Confirmar Contrase\xf1a"),c.qZA(),c._UZ(29,"input",17),c.YNc(30,Z,2,0,"mat-error",14),c.TgZ(31,"mat-icon",15),c._uU(32,"lock"),c.qZA(),c.TgZ(33,"button",16),c.NdJ("click",function(){return e.hide2=!e.hide2}),c.TgZ(34,"mat-icon"),c._uU(35),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(36,"div",18),c.TgZ(37,"button",19),c._uU(38," Cambiar contrase\xf1a "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("formGroup",e.resetPass),c.xp6(17),c.Q6J("type",e.hide?"password":"text"),c.xp6(1),c.Q6J("ngIf",!e.valid("validPassword")),c.xp6(5),c.Oqu(e.hide?"visibility_off":"visibility"),c.xp6(5),c.Q6J("type",e.hide2?"password":"text"),c.xp6(1),c.Q6J("ngIf",e.valid("confirmPassword")),c.xp6(5),c.Oqu(e.hide2?"visibility_off":"visibility"),c.xp6(2),c.Q6J("disabled",e.resetPass.invalid))},directives:[a._Y,a.JL,a.sg,i.yS,d.KE,d.hX,m.Nt,a.Fj,a.JJ,a.u,r.O5,g.Hw,d.qo,p.lW,d.R9,d.TO],styles:[".reset[_ngcontent-%COMP%]{background-color:#07466f;background-image:url(man.51cde5fb2937b70d78db.jpg);width:100vw;height:100vh;background-repeat:no-repeat;background-position:50%;background-size:cover;overflow-y:hidden;overflow-x:hidden}#form-container[_ngcontent-%COMP%]{height:420px;width:320px;background-color:#fafafacc;border-radius:10px;display:block;text-align:center}"]}),t})()},{path:"",redirectTo:"login",pathMatch:"full"}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.Bz.forChild(h)],i.Bz]}),t})();var v=o(4886);let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.ez,i.Bz,a.UX,b,v.q,l.jk]]}),t})()}}]);